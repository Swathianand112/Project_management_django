<!DOCTYPE html>
<html>
<head>
    <title>Employee Details</title>
</head>
<body>
    <h1>Employee Details</h1>
    
    <form method="get" action="">
        <label for="employee_id">Select Employee:</label>
        <select id="employee_id" name="employee_id">
            <option value="">--Select an Employee--</option>
            {% for employee in employees %}
                <option value="{{ employee.employee_id }}">{{ employee.first_name }} {{ employee.last_name }}</option>
            {% endfor %}
        </select>
        <button type="submit">View Details</button>
    </form>

    {% if selected_employee %}
        <h2>Details for {{ selected_employee.first_name }} {{ selected_employee.last_name }}</h2>
        <p><strong>Employee ID:</strong> {{ selected_employee.employee_id }}</p>
        <p><strong>Full Name:</strong> {{ selected_employee.first_name }} {{ selected_employee.last_name }}</p>
        <p><strong>Age:</strong> {{ age }}</p>
        <p><strong>Email:</strong> {{ selected_employee.email }}</p>
        <p><strong>Phone Number:</strong> {{ selected_employee.phone_number }}</p>
        <p><strong>Designation:</strong> {{ selected_employee.designation }}</p>
       <h3>Projects Involved</h3>
    <ul>
        {% for assignment in selected_employee.projectassignment_set.all %}
        <li>{{ assignment.project.project_name }}</li>
        {% endfor %}
    </ul>
    {% else %}
        <p>Please select an employee to view details.</p>
    {% endif %}
</body>
</html>
